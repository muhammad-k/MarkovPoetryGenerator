package com.company;

import java.util.*;

public class Main {

    public static void main(String[] args) {

        /*String corpus = "Thank you. Thank you very much. Hello, Dallas, it's great to be with you tonight. Thank you, and I am thrilled to be here deep in the heart of Texas, where we just opened a beautiful new Louie Vuitton plant. When I'm with the freedom-loving patriots of the Lone Star State I love it. There has never been a better time to be a proud Texan and there's never been a better time to be a proud American."
                    + "There never has, there never has. So I came from a small town, Alvarado, Texas, where we celebrated the incredible revival of American manufacturing and we opened up some beautiful places. I'll tell you this place is doing great and created in a very short period of time, an extra 1,000 jobs for Texas. Since my election, we've created 775,000 new jobs across the state, including 70,000 Texas manufacturing jobs, they said those jobs had disappeared, didn't they huh, hey man?"
                    + "Our country is once again living by two simple rules: Buy American and hire American. The economy is booming, our people are prospering, our country is thriving, and our nation is stronger than ever before, but the more America achieves the more hateful and enraged these crazy Democrats become. Crazy."
                    + "They're crazy. They're, crazy. At stake in this fight is the survival of American democracy itself and don't kid yourself, that's what they want. They are destroying this country, but we will never let it happen not even close. For three straight years, radical Democrats have been trying to overthrow the results of a great, great election, maybe, maybe the greatest election in the history of our country, and they want to impose an extreme agenda."
                    + "They cannot pass it and they cannot win it at the ballot box. They're not going to win. They're not and even going to -- they won't come close in 2020. They know it. They know it. They're not going to win it. They say, let's see, what's another idea? What's another idea? How do we win this election? [Inaudible] You know, I really don't believe anymore that they love our country."
                    + "It doesn't play well because it was perfect, so he made up a totally false conversation with the Ukrainian President and we caught him cold. Everybody knew it anyway. See? We did one thing, you always have to do the unexpected. They never thought I'd release the conversation with the Ukrainian President."
                    + "I want to get him before Congress and I want to see what he has to say. You know they say he has immunity. Why would you have immunity for outright fraud? Why do you have immunity? Why? He's a fraud. We're fighting a campaign against leftists, socialists, and globalists who want to return to reckless wars, open borders, rampant crime, and totally disastrous one-way trade deals."
                    + "We're changing that one around very quickly. They believe America is the world's piggy bank and that your tax dollars should subsidize the economy, military, and defense of every other nation in the world, but our own. It's not happening anymore. Our political opposition made its fortune selling out our nation and its citizens, and you know, that's what's been happening, and that's why 2016 was so important, and that's why 2020 -- I can never say it's more important, but you know, it's like the roots of a tree."
                    + "Can you believe it? I've been a politician for three years. I can't believe that. I never thought I'd be called a politician. I don't like it, but it is what it is, but we're finally, again, putting America first. The radical Democrats want to destroy America, as we know it. They want to indoctrinate our children and teach them that America is a sinful wicked nation."
                    + "You see that happening all the time and I know it from personal experience what they want to teach your kids, not good. They come home, mommy, daddy, this is what I learned, and you're going, oh no, don't tell me. Let's get them into another school fast. They want to disarm law-abiding citizens, they want to take your guns away and they want to win so far left judges to shred our Constitution."
                    + "It's not happening. They want to tear down symbols of faith and drive Christians and religious believers from the public square. They want to silence your voices on social media and they want the government to censor, muzzle and shut down conservative voices. You know that. If they didn't hate our country, they wouldn't be doing this to our country."
                    + "They wouldn't be doing it because they know better. They know better. As an example, we're building a great wall along the Southern border and it's going up rapidly, going up. And you know five years ago, almost every one of them wanted a wall. Until I came along, and I said, we're going to build a great walk because they could never get it done and then they stopped the funding."
                    + "They made it almost impossible. Few people would have been able to do what we did, but we got it from here, and we got it from there, and we got it from all over the place, and we're building that sucker right now, and it's having a tremendous effect already. Not easy. Highest level. Everything we said it would be. It's moving rapidly, although, the fake news back there, they don't want to talk about it. [Audience shouts \"Boo\"] They don't want to talk about it. Look at all those cameras, do you believe it? Look at all those red lights, don't worry, I won't say anything bad about your network."
                    + "Because a lot of times I get ready to do a number on these phony networks. And you know, you see those red lights go off, off, off, off. They don't want their viewers to see it. But that's OK. I'm not going to say it tonight, I'm going to say your legitimate media. I don't actually mean that. But you look at that, but look at all those cameras."
                    + "You know that's like the Academy Awards used to be because -- before it failed. Do you know why it failed? Do you know why it failed? Because they came after us. That's why it failed. It failed because they had stupid people saying horrible things about us, stupid, stupid people. They are stupid people and their ratings have dropped like a rocket and I love seeing it. I'm telling you."
                    + "Love it. But no matter how hard they try, they will fail, because the people of Texas and the people of America will never surrender our freedom to those people right there. We will stand strong for family, faith, God, and for our country. Last week, a very dumb Democrat candidate for President."
                    + "Nobody noticed it. I noticed it. The flairer, do you remember he was flailing all over the place? I said why is this guy hot? John Cornyn is going to win so easily, just like Ted Cruz won. He's going to win, no matter what happens, but John Cornyn is not talking about Bado anymore, because Bado in a few Short weeks, got rid of guns and got rid of religion.";
*/

        String corpus = "Go, go 'head (Go, go, go)\n" +
                "Go, go, go 'head (Go, go, go)\n" +
                "Go, go, go, go, go, go 'head\n" +
                "Go, go, go, go, go, go 'head\n" +
                "Oh, you fancy, huh?\n" +
                "Oh, you fancy, huh?\n" +
                "Oh, you fancy, huh?\n" +
                "Oh, you fancy, huh?\n" +
                "Nails done, hair done, everything did\n" +
                "Nails done, hair done, everything did\n" +
                "Oh, you fancy, huh?\n" +
                "Oh, you fancy, huh?\n" +
                "You, you fancy huh?\n" +
                "Oh, you fancy, huh?\n" +
                "Nails done, hair done, everything did, uh\n" +
                "Nails done, hair done, everything did\n" +
                "Oh, you fancy, huh?\n" +
                "You getting ready so I know we gon' be here awhile\n" +
                "In the bathroom flat irons and nail files\n" +
                "Spending hours in salons on your hairstyles\n" +
                "In the mall steady racking up the air miles\n" +
                "Hit the gym, step on the scales, stare at the number\n" +
                "You say you droppin' 10 pounds preparin' for summer\n" +
                "And you don't do it for the man, men never notice\n" +
                "You just do it for yourself, you the fucking coldest\n" +
                "Intelligent too, ooh you're my sweetheart\n" +
                "I've always liked my women book and street smart\n" +
                "Long as they got a little class like half days\n" +
                "And the confidence to overlook my past ways\n" +
                "Time heals all and heels hurt to walk in\n" +
                "But they go with the clutch that you carry your lip gloss in\n" +
                "And look, I really think that nobody does it better\n" +
                "I love the way you put it together, uh\n" +
                "Oh, you fancy, huh?\n" +
                "Oh, you fancy, huh?\n" +
                "Oh, you fancy, huh?\n" +
                "Oh, you fancy, huh?\n" +
                "Nails done, hair done, everything did\n" +
                "Nails done, hair done, everything did\n" +
                "Oh, you fancy, huh?\n" +
                "Oh, you fancy, huh?\n" +
                "You, you fancy huh?\n" +
                "Oh, you fancy, huh??\n" +
                "Nails done, hair done, everything did\n" +
                "Nails done, hair done, everything did ('Sup, girl)\n" +
                "Oh, you fancy, huh?\n" +
                "Well, aren't you a breath of fresh air?\n" +
                "From all these superficial gold digging bitches in here\n" +
                "They get a baller, think that they ain't got to pick a career\n" +
                "Guess they plan on sucking dicks until some millions appear\n" +
                "Like \"Voil√†!\" You do it right he might just buy you a car\n" +
                "Now she play these suckers just like B.o.B play the guitar\n" +
                "Now here you are with your girls having drinks at the bar\n" +
                "I say I'm buying, you decline, that is kinda bizarre\n" +
                "Independent with the demeanor of an R&B singer (check)\n" +
                "Naked ring finger, M3 Beamer (check, check)\n" +
                "Champagne Range, triple-white Jag\n" +
                "Closet full of brand new clothes and handbags\n" +
                "Alexander McQueen, Prada, Gucci, Chanel\n" +
                "D&G, BCBG, Versace, Louis and Bebe\n" +
                "You ain't needy, greedy or easy as these other breezy's\n" +
                "Who fuck for bottles of Riesling and bowls of baked ziti\n" +
                "Oh, you fancy, huh?\n" +
                "Oh, you fancy, huh?\n" +
                "Oh, you fancy, huh?\n" +
                "Oh, you fancy, huh?\n" +
                "Nails done, hair done, everything did\n" +
                "Nails done, hair done, everything did (oh!)\n" +
                "Oh, you fancy, huh?\n" +
                "Oh, you fancy, huh?\n" +
                "You, you fancy huh?\n" +
                "Oh, you fancy, huh?\n" +
                "Nails done, hair done, everything did\n" +
                "Nails done, hair done, everything did\n" +
                "Oh, you fancy, huh?\n" +
                "Atlanta girls, let me see your hands (yeah)\n" +
                "Wave 'em at them bitches hating on you with their friends (come on)\n" +
                "Girl you got it, let 'em know that everything big\n" +
                "Nails done hair done, everything big\n" +
                "And my NY girls, let me see your hands (woo)\n" +
                "Wave 'em at them bitches hating on you with their friends (come on)\n" +
                "Girl you got it, let 'em know that everything big\n" +
                "Nails done hair done, everything big\n" +
                "And my LA girls, let me see your hands\n" +
                "Wave 'em at them bitches hating on you with their friends (come on)\n" +
                "Girl you got it, let 'em know everything big\n" +
                "Nails done hair done, everything big\n" +
                "And my TO girls, let me see your hands\n" +
                "Wave 'em at them bitches hating on you with their friends (yeah)\n" +
                "Girl you got it, let 'em know that everything big\n" +
                "Nails done, hair done, nails done, hair done\n" +
                "Say go Cinderella, go Cinderella\n" +
                "Orgasm blush, lipstick and concealer\n" +
                "Devil in a tight dress, girl you a killer\n" +
                "And ain't nobody realer, and ain't nobody realer, go\n" +
                "Go, go, go, go, go, go, go (showtime)\n" +
                "Go, go, go, go, go (as we proceed)\n" +
                "Uh, 5 and a half in boys, ass is off the hook\n" +
                "Cinderella 'bout to lose the glass off her foot\n" +
                "And when I find it is when I find you\n" +
                "And we can do the things we never got the time to\n" +
                "Better late than never but never late is better\n" +
                "They tell me time is money, well we'll spend it together\n" +
                "I'm down for whatever, you just lead the way\n" +
                "We go to dinner you don't even look at me to pay\n" +
                "Mature women with more than me were the first to tempt me\n" +
                "And Jason had this girl Tammy with a purple Bentley\n" +
                "How she got it I ain't never get to ask\n" +
                "I just knew that she was fine like a ticket on the dash\n" +
                "Yeah, but shout out to the homeowners\n" +
                "The girls that got diplomas and enough money to loan us\n" +
                "A little something extra, should we ever need it\n" +
                "If it sounds like you, then let me hear you repeat it\n" +
                "Oh, you fancy, huh?\n" +
                "Oh, you fancy, huh?\n" +
                "Oh, you fancy, huh?\n" +
                "Oh, you fancy, huh?\n" +
                "Nails done, hair done, everything did\n" +
                "Nails done, hair done, everything did\n" +
                "Oh, you fancy, huh?\n" +
                "Oh, you fancy, huh?\n" +
                "You, you fancy huh?\n" +
                "Oh, you fancy, huh?\n" +
                "Nails done, hair done, everything did\n" +
                "Nails done, hair done, everything did\n" +
                "Oh, you fancy, huh? (fancy)";

        Map<String,List<String>> corpusMap = (loadMap(sanitizeCorpus(corpus)));

        System.out.println(writeLines(corpusMap, 7, 7));

    }

    private static String[] sanitizeCorpus(String corpus){

        //Takes corpus, turns it lowercase, removes punctuation and then replaces the line break with a ""
        corpus = corpus.toLowerCase().replaceAll("\\p{Punct}","").replaceAll("\n", " ");

        //Turning the entire string into single word arrays for easier traversal
        String[] corpusArray = corpus.split(" ");

        return corpusArray;
    }

    private static Map loadMap(String[]  corpusArray){

        //This is what holds all the values, a map where each key is a unique word
        //I used a set because we do not want the following words to repeat
        //NEW UPDATE: Keeping the set, using a list
        Map<String,List<String>> songMap = new HashMap<>();

        for(int i = 0; i < corpusArray.length-1; i++){

            //Here we check if the key is contained within the map,
            //if it is we add the value to the set
            //Second part is to make sure we do not include duplicate values in the arraylist
            if(songMap.containsKey(corpusArray[i]) &&
                !(songMap.get(corpusArray[i]).contains(corpusArray[i+1])))
                songMap.get(corpusArray[i]).add(corpusArray[i + 1]);
            else{
                List<String> valList = new ArrayList<>();
                valList.add(corpusArray[i+1]);
                songMap.put(corpusArray[i],valList);
            }

        }

        return songMap;
    }

    //Returns a random key from the corpusMap
    private static String randomKey(Map corpusPairs){

        List<String> keysAsArray = new ArrayList<>(corpusPairs.keySet());

        return keysAsArray.get((int)((keysAsArray.size() * Math.random())));
    }

    private static String writeLine(Map<String, List<String>> corpusPairs, int length){

        String line = "";
        int i = 0;
        String nextKey = randomKey(corpusPairs);

        while(i < length){

            //Here we check if the size of the arraylist is 1
            if(corpusPairs.get(nextKey).size() == 1){
                //If it is then we just take that element
                //add it to to the line and make it the next key
                line += corpusPairs.get(nextKey).get(0) + " ";
                nextKey = corpusPairs.get(nextKey).get(0);
                i++;
            }
            //If the size of the key's arraylist is > 1
            else{
                int randNum = (int)((corpusPairs.get(nextKey).size() * Math.random()));
                line += corpusPairs.get(nextKey).get(randNum) + " ";
                nextKey = corpusPairs.get(nextKey).get(randNum);
                i++;
            }
        }

        return line;
    }

    private static String writeLines(Map<String, List<String>> corpusPairs, int numOfLines, int numOfWordsPerLine){

        String lines = "";

        for(int i = 0; i < numOfLines; i++){
            lines += writeLine(corpusPairs, numOfWordsPerLine);
            lines += "\n";
        }
        return lines;
    }
}
